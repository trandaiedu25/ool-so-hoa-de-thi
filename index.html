<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i Ki·ªÉm Tra To√°n</title>
    <style>
        body { font-family: sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; background-color: #f4f4f9; }
        .quiz-container { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .question-block { margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
        .question-text { font-weight: bold; font-size: 1.1em; margin-bottom: 10px; color: #333; }
        .options-list { list-style-type: none; padding: 0; }
        .options-list li { margin: 8px 0; }
        .option-label { cursor: pointer; display: flex; align-items: center; }
        .btn-submit { background-color: #28a745; color: white; border: none; padding: 10px 20px; font-size: 16px; border-radius: 5px; cursor: pointer; margin-top: 20px; }
        .btn-submit:hover { background-color: #218838; }
        .feedback { margin-top: 10px; font-weight: bold; display: none; }
        .correct { color: green; }
        .wrong { color: red; }
        .explanation { font-style: italic; color: #666; display: none; margin-top: 5px; }
    </style>
    
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']] // C·∫•u h√¨nh ƒë·ªÉ nh·∫≠n di·ªán d·∫•u $ l√† c√¥ng th·ª©c
      }
    };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>
<body>

<div class="quiz-container">
    <h1>üìù ƒê·ªÅ √în T·∫≠p To√°n 10</h1>
    <div id="quiz-content">Loading...</div>
    <button class="btn-submit" onclick="checkAnswers()">N·ªôp b√†i</button>
    <div id="result-score" style="margin-top: 20px; font-size: 1.2em; font-weight: bold;"></div>
</div>

<script>
    // 1. D√ÅN N·ªòI DUNG JSON C·ª¶A B·∫†N V√ÄO ƒê√ÇY
    // (L∆∞u √Ω: T√¥i l·∫•y v√≠ d·ª• t·ª´ ·∫£nh c·ªßa b·∫°n)
    const quizData = {
      "part_1": {
        "title": "PH·∫¶N I. C√¢u tr·∫Øc nghi·ªám nhi·ªÅu ph∆∞∆°ng √°n l·ª±a ch·ªçn.",
        "questions": [
          {
            "id": "C√¢u 1",
            "question": "Bi·ªÉu th·ª©c n√†o sau ƒë√¢y l√† tam th·ª©c b·∫≠c hai?",
            "options": {
              "A": "$f(x)=3x^2+2x-5$",
              "B": "$f(x)=2x-5$",
              "C": "$f(x)=3x^2+2x-1$", 
              "D": "$f(x)=x^3 -x^2 +1$"
            },
            "answer": "A",
            "explanation": "Bi·ªÉu th·ª©c $f(x) = 3x^2+2x-5$ l√† m·ªôt tam th·ª©c b·∫≠c hai."
          },
          {
            "id": "C√¢u 2",
            "question": "Cho c√°c vect∆° $\\vec{u} = (-2;1)$, $\\vec{v} = (4;-2)$. T√≠ch v√¥ h∆∞·ªõng...",
            "options": {
              "A": "-10", "B": "10", "C": "-5", "D": "5" 
            }, // V√≠ d·ª• gi·∫£ ƒë·ªãnh options
            "answer": "A",
            "explanation": "T√≠nh to√°n theo c√¥ng th·ª©c t√≠ch v√¥ h∆∞·ªõng..."
          }
        ]
      }
    };

    // 2. H√†m hi·ªÉn th·ªã c√¢u h·ªèi ra m√†n h√¨nh
    function renderQuiz() {
        const container = document.getElementById('quiz-content');
        let htmlContent = `<h3>${quizData.part_1.title}</h3>`;
        
        quizData.part_1.questions.forEach((q, index) => {
            htmlContent += `
                <div class="question-block" id="q-${index}">
                    <div class="question-text">${q.id}: ${q.question}</div>
                    <ul class="options-list">
                        ${Object.entries(q.options).map(([key, value]) => `
                            <li>
                                <label class="option-label">
                                    <input type="radio" name="question-${index}" value="${key}">
                                    <span style="margin-left: 10px;"><b>${key}.</b> ${value}</span>
                                </label>
                            </li>
                        `).join('')}
                    </ul>
                    <div class="feedback" id="feedback-${index}"></div>
                    <div class="explanation" id="explain-${index}">Gi·∫£i th√≠ch: ${q.explanation}</div>
                </div>
            `;
        });
        
        container.innerHTML = htmlContent;
        // B·∫Øt bu·ªôc g·ªçi l·ªánh n√†y ƒë·ªÉ MathJax render l·∫°i c√¥ng th·ª©c to√°n sau khi ch√®n HTML
        MathJax.typeset(); 
    }

    // 3. H√†m ch·∫•m ƒëi·ªÉm
    function checkAnswers() {
        let score = 0;
        const total = quizData.part_1.questions.length;

        quizData.part_1.questions.forEach((q, index) => {
            const selected = document.querySelector(`input[name="question-${index}"]:checked`);
            const feedbackDiv = document.getElementById(`feedback-${index}`);
            const explainDiv = document.getElementById(`explain-${index}`);
            
            feedbackDiv.style.display = 'block';
            explainDiv.style.display = 'block';

            if (selected && selected.value === q.answer) {
                score++;
                feedbackDiv.innerHTML = "‚úÖ Ch√≠nh x√°c!";
                feedbackDiv.className = "feedback correct";
            } else {
                feedbackDiv.innerHTML = `‚ùå Sai r·ªìi. ƒê√°p √°n ƒë√∫ng l√†: ${q.answer}`;
                feedbackDiv.className = "feedback wrong";
            }
        });

        document.getElementById('result-score').innerText = `K·∫øt qu·∫£: ${score}/${total} c√¢u`;
    }

    // Ch·∫°y h√†m render khi web t·∫£i xong
    renderQuiz();
</script>

</body>
</html>
